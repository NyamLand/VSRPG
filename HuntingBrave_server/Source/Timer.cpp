
#include	"iextreme.h"
#include	"Timer.h"

//*****************************************************************************************************************************
//
//		ゲームデータ管理
//
//*****************************************************************************************************************************

//----------------------------------------------------------------------------------------------
//	グローバル
//----------------------------------------------------------------------------------------------

//----------------------------------------------------------------------------------------------
//	初期化・解放
//----------------------------------------------------------------------------------------------

	//	コンストラクタ
	Timer::Timer( void )
	{
	
	}

	//	デストラクタ
	Timer::~Timer( void )
	{

	}

//----------------------------------------------------------------------------------------------
//	更新
//----------------------------------------------------------------------------------------------

//----------------------------------------------------------------------------------------------
//	動作関数
//----------------------------------------------------------------------------------------------

	//	タイマースタート
	void	Timer::Start( int limit )
	{
		//	スタート時の時間を格納
		time( &startTime );
		
		//	終了時間を設定
		endTime = startTime + limit;
	}

	//	制限時間更新( 指定した時間をすぎるとtrueをかえす )
	bool	Timer::LimitTimerUpdate( void )
	{
		if ( endTime - nowTime <= 0.0f )	return	true;

		//	現在の時間を格納
		time( &nowTime );
		return	false;
	}

//----------------------------------------------------------------------------------------------
//	情報設定
//----------------------------------------------------------------------------------------------

//----------------------------------------------------------------------------------------------
//	情報取得
//----------------------------------------------------------------------------------------------

	//	現在の残り時間を取得
	int		Timer::GetLimitTime( void )const
	{
		int remainingTime = ( int )( endTime - nowTime );
		if ( remainingTime <= 0 )	return 0;
		else return	remainingTime;
	}