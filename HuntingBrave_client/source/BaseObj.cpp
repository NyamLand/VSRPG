
#include	"iextreme.h"
#include	"BaseObj.h"

//***************************************************************
//
//	BaseObjクラス
//
//***************************************************************

//-------------------------------------------------------------------------------
//	グローバル
//-------------------------------------------------------------------------------

//-------------------------------------------------------------------------------
//	初期化・解放
//-------------------------------------------------------------------------------
	
	//	コンストラクタ	
	BaseObj::BaseObj( void ) : obj( nullptr ),
		pos( 0.0f, 0.0f, 0.0f )
	{
	
	}

	//	デストラクタ
	BaseObj::~BaseObj( void )
	{

	}

	//	初期化
	bool	BaseObj::Initialize( void )
	{
		Load( "DATA/BG/2_1/FIELD2_1.IMO" );

		UpdateInfo();
		return	true;
	}

	//	読み込み
	void	BaseObj::Load( LPSTR filename )
	{
		if ( obj == nullptr )
			obj = new iexMesh( filename );
	}

//-------------------------------------------------------------------------------
//	更新・描画
//-------------------------------------------------------------------------------

	//	更新
	void	BaseObj::Update( void )
	{
		UpdateInfo();
	}

	//	情報更新
	void	BaseObj::UpdateInfo( void )
	{
		obj->SetPos( pos );
		obj->Update();
	}

	//	描画
	void	BaseObj::Render( void )
	{
		if ( obj != nullptr )
			obj->Render();
	}

//-------------------------------------------------------------------------------
//	動作関数
//-------------------------------------------------------------------------------

//-------------------------------------------------------------------------------
//	情報設定
//-------------------------------------------------------------------------------

	//	座標設定
	void	BaseObj::SetPos( const Vector3& Pos )
	{
		pos = Pos;
	}

//-------------------------------------------------------------------------------
//	情報取得
//-------------------------------------------------------------------------------

	//	座標取得
	Vector3	BaseObj::GetPos( void )const
	{
		return	pos;
	}
