
#pragma once

//*****************************************************************************************************************************
//
//	GameParamクラス
//
//*****************************************************************************************************************************

//	include
#include	"GameData.h"
#include	"SocketClient.h"

//	class
class GameParam : public SocketClient
{
private:
	int		myIndex;

	PlayerInfo	playerInfo[PLAYER_MAX];
	PlayerParam	playerParam[PLAYER_MAX];

public:
	//	初期化・解放
	GameParam( void );
	~GameParam( void );
	bool InitializeClient( char* addr, int nPort, char* name );
	void CloseClient( void );

	//	データ更新（送受信）
	void Update( void );
	void Receive( void );

	//	プレイヤーパラメータ操作
	void SetPlayerParam( int id, PlayerParam& param );
	void SetPlayerParam( int id, Vector3& pos );
	PlayerParam GetPlayerParam( int id ){ return playerParam[id]; }
	PlayerInfo	GetPlayerInfo( int id ){ return playerInfo[id]; }
	
	//	プレイヤー情報操作
	void  SetPlayerInfo( int id, char* name );
	void  RemovePlayerInfo( int id );

	bool  GetPlayerActive( int id ){ return playerInfo[id].active; }
	int   GetMyIndex(){ return myIndex; }
	char* GetPlayerName( int id ){ return playerInfo[id].name; }
};

extern	GameParam*	gameParam;


